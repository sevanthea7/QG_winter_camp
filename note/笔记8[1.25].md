## pandas库学习(1月25日)

### 一.学习内容

* 初步学习读取数据
* 简单的数据清洗

### 二.学习笔记

#### 1.Series结构

一维带标签数组（索引index&值values）

##### （1）创建

###### ①常规创建

~~~
import pandas as pd
s = pd.Series(data, index, dtype, copy)
~~~

| 参数  | 说明                              |
| ----- | --------------------------------- |
| data  | 输入的数据                        |
| index | 规定索引值，默认为0开始的递增整数 |
| dtype | 数据类型，不规定则默认为自动识别  |
| copy  | 是否复制data，默认为False         |

~~~
t1 = pd.Series([1, 2, 3, 4, 5])
'''
0    1
1    2
2    3
3    4
dtype: int64
'''

t2 = pd.Series([1, 2, 3, 4, 5], index=list('abcde'))
'''
a    1
b    2
c    3
d    4
e    5
dtype: int64
'''

t3 = pd.Series([1, 2, 3, 4, 5], dtype='float64')
'''
0    1.0
1    2.0
2    3.0
3    4.0
4    5.0
dtype: float64
'''

t6 = pd.Series(np.arange(5), index=list(string.ascii_lowercase[:5]))
'''
a    0
b    1
c    2
d    3
e    4
dtype: int32
'''
~~~

* 修改数字类型

`.astype(数字类型)`

```
t2 = t2.astype(float)
'''
a    1.0
b    2.0
c    3.0
d    4.0
e    5.0
dtype: float64
'''
```

###### ②字典创建

~~~
tmp_dict1 = {"name":"xxx", "age":18, "school":"GDUT" }
t4 = pd.Series(tmp_dict1)
'''
name       xxx
age         18
school    GDUT
dtype: object
'''

import string
tmp_dict2 = {string.ascii_uppercase[i]:i for i in range(10)}	# 推导式创建 大写字母对应其顺序
t5 = pd.Series(tmp_dict2)
'''
A    0
B    1
C    2
D    3
E    4
F    5
G    6
H    7
I    8
J    9
dtype: int64
'''
~~~

##### （2）查找

###### ①索引

~~~
'''
t4 -->
name       xxx
age         18
school    GDUT
dtype: object
'''

# 按索引名称
print(t4['age'])		# 18

# 按索引行
print(t4[0])			# 'xxx'

# 一次取多个
print(t4[[0,2]])
'''
name       xxx
school    GDUT
dtype: object
'''
print(t4[['age','school']])
'''
age         18
school    GDUT
dtype: object
'''
~~~

如果输入了不存在的索引，要么报错，要么输出NaN

###### ②范围

~~~
'''
t5 -->
A    0
B    1
C    2
D    3
E    4
F    5
G    6
H    7
I    8
J    9
dtype: int64
'''
print(t5[t5>5])
'''
G    6
H    7
I    8
J    9
dtype: int64
'''
~~~

##### （3）读取外部数据

###### ①语法

`.read_csv('文件路径')`

还可以从别的地方读excel、剪贴板...

简单示例：

~~~
x = pd.read_csv('./xxx.csv')
print(x)
~~~

#### 2.DataFrame结构

##### （1）创建

~~~
t1 = pd.DataFrame(np.arange(12).reshape(3,4))
'''
   0  1   2   3		# 1轴  columns
0  0  1   2   3
1  4  5   6   7
2  8  9  10  11
0轴  index
'''

t2 = pd.DataFrame(np.arange(12).reshape(3,4), index=list('abc'), columns=list('wxyz'))
'''
   w  x   y   z
a  0  1   2   3
b  4  5   6   7
c  8  9  10  11
'''
~~~

